<!-- build time:Fri Oct 18 2019 17:46:08 GMT+0800 (CST) --><!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta name="generator" content="Hexo 3.9.0"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.3.0"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.3.0"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.3.0"><link rel="mask-icon" href="/images/logo.svg?v=7.3.0" color="#222"><link rel="stylesheet" href="/css/main.css?v=7.3.0"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"7.3.0",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},save_scroll:!1,copycode:{enable:!0,show_result:"mac",style:null},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},jsonsearch:{enable:!0},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"Copy",copy_success:"Copied",copy_failure:"Copy failed"}}</script><meta name="description" content="自用笔记：Vue.js通过简洁的API提供高效的数据绑定和灵活的组件系统。最近在Github上看到了不少Vue的项目，很好奇，决定尝试尝试。"><meta name="keywords" content="Vue"><meta property="og:type" content="article"><meta property="og:title" content="Vue Router"><meta property="og:url" content="http://luuman.github.io/2017/03/25/VueRouter/index.html"><meta property="og:site_name" content="Luuman&#39;s Blog"><meta property="og:description" content="自用笔记：Vue.js通过简洁的API提供高效的数据绑定和灵活的组件系统。最近在Github上看到了不少Vue的项目，很好奇，决定尝试尝试。"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2019-08-20T06:53:59.303Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Vue Router"><meta name="twitter:description" content="自用笔记：Vue.js通过简洁的API提供高效的数据绑定和灵活的组件系统。最近在Github上看到了不少Vue的项目，很好奇，决定尝试尝试。"><link rel="canonical" href="http://luuman.github.io/2017/03/25/VueRouter/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><title>Vue Router | Luuman's Blog</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Luuman's Blog</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">因为有了危机感，所以会义无反顾。</p></div><div class="site-nav-toggle"><button aria-label="Toggle navigation bar"><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>About</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>Search</a></li></ul></nav><div class="site-search"></div></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content page-post-detail"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://luuman.github.io/2017/03/25/VueRouter/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Luuman"><meta itemprop="description" content="爱折腾，爱运动，更爱游离于错综复杂的编码与逻辑中，无法自拔。相信编程是一门艺术，自诩为游弋在代码里的人生。"><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Luuman's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Vue Router</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2017-03-25 18:29:00" itemprop="dateCreated datePublished" datetime="2017-03-25T18:29:00+08:00">2017-03-25</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2019-08-20 14:53:59" itemprop="dateModified" datetime="2019-08-20T14:53:59+08:00">2019-08-20</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/FrontFrame/" itemprop="url" rel="index"><span itemprop="name">FrontFrame</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p><strong>自用笔记：</strong>Vue.js通过简洁的API提供高效的数据绑定和灵活的组件系统。最近在Github上看到了不少Vue的项目，很好奇，决定尝试尝试。</p><a id="more"></a><h1 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h1><p>[ ] history的后退配置<br>[ ] 路由懒加载<br>[ ] 滚动行为<br>[ ] router.beforeEach</p><h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello App!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 使用 router-link 组件来导航. --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 通过传入 `to` 属性指定链接. --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;router-link&gt; 默认会被渲染成一个 `&lt;a&gt;` 标签 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/foo"</span>&gt;</span>Go to Foo<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/bar"</span>&gt;</span>Go to Bar<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 路由出口 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 路由匹配到的组件将渲染在这里 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Active <span class="keyword">from</span> <span class="string">'VIEW/active/active'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过这个这个属性（是个函数），可以让应用像浏览器的原生表现那样，在按下 后退/前进 按钮时，简单地让页面滚动到顶部或原来的位置。</span></span><br><span class="line"><span class="keyword">const</span> scrollBehavior = <span class="function">(<span class="params">to, <span class="keyword">from</span>, savedPosition</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (savedPosition) &#123;</span><br><span class="line">    <span class="keyword">return</span> savedPosition</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">	mode: <span class="string">'history'</span>,</span><br><span class="line">	<span class="comment">// history: 依赖 HTML5 History API 和服务器配置。</span></span><br><span class="line">  base: __dirname,</span><br><span class="line">  <span class="comment">// 默认值: “/”，应用的基路径，一般就是项目的根目录，webpack中有配置好。</span></span><br><span class="line">  linkActiveClass:<span class="string">'link-active'</span>,</span><br><span class="line">  scrollBehavior,</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'Active'</span>,</span><br><span class="line">      component: Active</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">new</span> <span class="selector-tag">Vue</span>(&#123;</span><br><span class="line">  <span class="attribute">el</span>: <span class="string">'#app'</span>,</span><br><span class="line">  router,</span><br><span class="line">  <span class="attribute">template</span>: <span class="string">'&lt;App/&gt;'</span>,</span><br><span class="line">  <span class="attribute">components</span>: &#123; App &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="动态路由匹配"><a href="#动态路由匹配" class="headerlink" title="动态路由匹配"></a>动态路由匹配</h2><p>在 vue-router 的路由路径中使用『动态路径参数』（dynamic segment）来达到这个效果：</p><h3 id="路径参数"><a href="#路径参数" class="headerlink" title="路径参数"></a>路径参数</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="string">path:</span> <span class="string">'/user/:username'</span>, <span class="string">component:</span> User &#125;</span><br><span class="line"><span class="regexp">/user/</span>evan</span><br><span class="line">&#123; <span class="string">path:</span> <span class="string">'/user/:username'</span>, <span class="string">component:</span> User &#125;</span><br><span class="line"><span class="regexp">/user/</span>evan<span class="regexp">/post/</span><span class="number">123</span></span><br><span class="line"></span><br><span class="line">参数不能不传</span><br></pre></td></tr></table></figure><h3 id="响应路由参数的变化"><a href="#响应路由参数的变化" class="headerlink" title="响应路由参数的变化"></a>响应路由参数的变化</h3><p>例如从 /user/foo 导航到 user/bar，原来的组件实例会被复用。因为两个路由都渲染同个组件，比起销毁再创建，复用则显得更加高效。不过，这也意味着组件的生命周期钩子不会再被调用。</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  <span class="string">'$route'</span> (<span class="keyword">to</span>, form) &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="高级匹配模式"><a href="#高级匹配模式" class="headerlink" title="高级匹配模式"></a>高级匹配模式</h3><p>vue-router 使用 <a href="https://github.com/pillarjs/path-to-regexp#parameters" target="_blank" rel="noopener">path-to-regexp</a> 作为路径匹配引擎，所以支持很多高级的匹配模式，例如：可选的动态路径参数、匹配零个或多个、一个或多个，甚至是自定义正则匹配。查看它的 文档 学习高阶的路径匹配，还有 这个例子 展示 vue-router 怎么使用这类匹配</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">path</span>: <span class="string">'/'</span> &#125;,</span><br><span class="line"><span class="comment">// 参数前面使用“：”表示</span></span><br><span class="line">&#123; <span class="attr">path</span>: <span class="string">'/params/:foo/:bar'</span> &#125;,</span><br><span class="line"><span class="comment">// 添加“？”使参数作为可选择</span></span><br><span class="line">&#123; <span class="attr">path</span>: <span class="string">'/optional-params/:foo?'</span> &#125;,</span><br><span class="line"><span class="comment">// 匹配id为数字的链接</span></span><br><span class="line">&#123; <span class="attr">path</span>: <span class="string">'/params-with-regex/:id(\\d+)'</span> &#125;,</span><br><span class="line"><span class="comment">// * 可以匹配任何东西</span></span><br><span class="line">&#123; <span class="attr">path</span>: <span class="string">'/asterisk/*'</span> &#125;,</span><br><span class="line"><span class="comment">// 使用括号包裹，用？让其可选择</span></span><br><span class="line">make part <span class="keyword">of</span> th path optional by wrapping <span class="keyword">with</span> parens and add <span class="string">"?"</span></span><br><span class="line">&#123; <span class="attr">path</span>: <span class="string">'/optional-group/(foo/)?bar'</span> &#125;</span><br><span class="line"></span><br><span class="line">&lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>/<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/params/foo/bar"</span>&gt;</span>/params/foo/bar<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/optional-params"</span>&gt;</span>/optional-params<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/optional-params/foo"</span>&gt;</span>/optional-params/foo<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/params-with-regex/123"</span>&gt;</span>/params-with-regex/123<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/params-with-regex/abc"</span>&gt;</span>/params-with-regex/abc<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/asterisk/foo"</span>&gt;</span>/asterisk/foo<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/asterisk/foo/bar"</span>&gt;</span>/asterisk/foo/bar<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/optional-group/bar"</span>&gt;</span>/optional-group/bar<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/optional-group/foo/bar"</span>&gt;</span>/optional-group/foo/bar<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="匹配优先级"><a href="#匹配优先级" class="headerlink" title="匹配优先级"></a>匹配优先级</h3><p>有时候，同一个路径可以匹配多个路由，此时，匹配的优先级就按照路由的定义顺序：谁先定义的，谁的优先级就最高。</p><h2 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a><a href="http://jsfiddle.net/yyx990803/L7hscd8h/" target="_blank" rel="noopener">嵌套路由</a></h2><p>这里的<router-view>是最顶层的出口，渲染最高级路由匹配到的组件。同样地，一个被渲染组件同样可以包含自己的嵌套<router-view>。例如，在 User 组件的模板添加一个<router-view>：<br>children 配置就是像 routes 配置一样的路由配置数组，所以呢，你可以嵌套多层路由。</router-view></router-view></router-view></p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attribute">path</span>: <span class="string">'/user/:id'</span>, <span class="attribute">component</span>: User,</span><br><span class="line">  <span class="attribute">children</span>: [</span><br><span class="line">  	<span class="comment">// 空的 子路由</span></span><br><span class="line">  	&#123; <span class="attribute">path</span>: <span class="string">''</span>, <span class="attribute">component</span>: UserHome &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// 当 /user/:id/profile 匹配成功，</span></span><br><span class="line">      <span class="comment">// UserProfile 会被渲染在 User 的 &lt;router-view&gt; 中</span></span><br><span class="line">      <span class="attribute">path</span>: <span class="string">'profile'</span>,</span><br><span class="line">      <span class="attribute">component</span>: UserProfile</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// 当 /user/:id/posts 匹配成功</span></span><br><span class="line">      <span class="comment">// UserPosts 会被渲染在 User 的 &lt;router-view&gt; 中</span></span><br><span class="line">      <span class="attribute">path</span>: <span class="string">'posts'</span>,</span><br><span class="line">      <span class="attribute">component</span>: UserPosts</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意：以 / 开头的嵌套路径会被当作根路径。 这让你充分的使用嵌套组件而无须设置嵌套的路径。</p><h2 id="编程式的导航"><a href="#编程式的导航" class="headerlink" title="编程式的导航"></a>编程式的导航</h2><h3 id="router-push-location"><a href="#router-push-location" class="headerlink" title="router.push(location)"></a>router.push(location)</h3><blockquote><p>router.push(location, onComplete?, onAbort?)</p></blockquote><p>想要导航到不同的 URL，则使用 router.push 方法。这个方法会向 history 栈添加一个新的记录，所以，当用户点击浏览器后退按钮时，则回到之前的 URL。</p><table><thead><tr><th align="center">声明式</th><th align="center">编程式</th></tr></thead><tbody><tr><td align="center"><code>&lt;router-link :to=&quot;...&quot;&gt;</code></td><td align="center">router.push(…)</td></tr></tbody></table><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符串</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(<span class="string">'home'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123; <span class="string">path:</span> <span class="string">'home'</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 命名的路由</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123; <span class="string">name:</span> <span class="string">'user'</span>, <span class="string">params:</span> &#123; <span class="string">userId:</span> <span class="number">123</span> &#125;&#125;)</span><br><span class="line"><span class="keyword">this</span>.$route.params.userId</span><br><span class="line"></span><br><span class="line"><span class="comment">// 带查询参数，变成 /register?plan=private</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123; <span class="string">path:</span> <span class="string">'register'</span>, <span class="string">query:</span> &#123; <span class="string">plan:</span> <span class="string">'private'</span> &#125;&#125;)</span><br><span class="line"><span class="keyword">this</span>.$route.query.plan</span><br></pre></td></tr></table></figure><h3 id="router-replace-location"><a href="#router-replace-location" class="headerlink" title="router.replace(location)"></a>router.replace(location)</h3><blockquote><p>router.replace(location, onComplete?, onAbort?)</p></blockquote><p>跟 router.push 很像，唯一的不同就是，它不会向 history 添加新记录，而是跟它的方法名一样 —— 替换掉当前的 history 记录。</p><table><thead><tr><th align="center">声明式</th><th align="center">编程式</th></tr></thead><tbody><tr><td align="center"><code>&lt;router-link :to=&quot;...&quot; replace&gt;</code></td><td align="center">router.replace(…)</td></tr></tbody></table><h3 id="router-go-n"><a href="#router-go-n" class="headerlink" title="router.go(n)"></a>router.go(n)</h3><p>这个方法的参数是一个整数，意思是在 history 记录中向前或者后退多少步，类似 window.history.go(n)。</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在浏览器记录中前进一步，等同于 history.forward()</span></span><br><span class="line"><span class="keyword">this</span>.$router.go(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 后退一步记录，等同于 history.back()</span></span><br><span class="line"><span class="keyword">this</span>.$router.go(-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 前进 3 步记录</span></span><br><span class="line"><span class="keyword">this</span>.$router.go(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果 history 记录不够用，那就默默地失败呗</span></span><br><span class="line"><span class="keyword">this</span>.$router.go(-<span class="number">100</span>)</span><br><span class="line"><span class="keyword">this</span>.$router.go(<span class="number">100</span>)</span><br></pre></td></tr></table></figure><h2 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h2><p>通过一个名称来标识一个路由显得更方便一些</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/user/<span class="number">123</span></span><br><span class="line">&lt;router-link <span class="symbol">:to=<span class="string">"&#123; name: 'user', params: &#123; userId: 123 &#125;&#125;"</span>&gt;User&lt;/router-link&gt;</span></span><br><span class="line">&lt;router-link <span class="symbol">:to=<span class="string">"&#123; name: 'user', params: &#123; userId: 123 &#125;&#125;"</span>&gt;User&lt;/router-link&gt;</span></span><br><span class="line">this.<span class="variable">$router</span>.push(&#123; <span class="symbol">name:</span> <span class="string">'user'</span>, <span class="symbol">params:</span> &#123; <span class="symbol">userId:</span> <span class="number">123</span> &#125;&#125;)</span><br></pre></td></tr></table></figure><h2 id="命名视图"><a href="#命名视图" class="headerlink" title="命名视图"></a><a href="https://jsfiddle.net/posva/6du90epg/" target="_blank" rel="noopener">命名视图</a></h2><p>有时候想同时（同级）展示多个视图，而不是嵌套展示，例如创建一个布局，有 sidebar（侧导航） 和 main（主内容） 两个视图，这个时候命名视图就派上用场了。你可以在界面中拥有多个单独命名的视图，而不是只有一个单独的出口。如果 router-view 没有设置名字，那么默认为 default。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-<span class="keyword">view</span> class=<span class="string">"view one"</span>&gt;&lt;/router-<span class="keyword">view</span>&gt;</span><br><span class="line">&lt;router-<span class="keyword">view</span> class=<span class="string">"view two"</span> name=<span class="string">"a"</span>&gt;&lt;/router-<span class="keyword">view</span>&gt;</span><br><span class="line">&lt;router-<span class="keyword">view</span> class=<span class="string">"view three"</span> name=<span class="string">"b"</span>&gt;&lt;/router-<span class="keyword">view</span>&gt;</span><br><span class="line"></span><br><span class="line">const router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  route<span class="variable">s:</span> [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      component<span class="variable">s:</span> &#123;</span><br><span class="line">        defaul<span class="variable">t:</span> Foo,</span><br><span class="line">        <span class="variable">a:</span> Bar,</span><br><span class="line">        <span class="variable">b:</span> Baz</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="重定向-和-别名"><a href="#重定向-和-别名" class="headerlink" title="重定向 和 别名"></a>重定向 和 别名</h2><h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><h4 id="路径"><a href="#路径" class="headerlink" title="路径"></a>路径</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attribute">path</span>: <span class="string">'/a'</span>, redirect: <span class="string">'/b'</span> &#125;</span><br></pre></td></tr></table></figure><h4 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attribute">path</span>: <span class="string">'/a'</span>, redirect: &#123; name: <span class="string">'foo'</span> &#125;&#125;</span><br></pre></td></tr></table></figure><h4 id="动态返回重定向"><a href="#动态返回重定向" class="headerlink" title="动态返回重定向"></a>动态返回重定向</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">path</span>: <span class="string">'/a'</span>, <span class="attr">redirect</span>: <span class="function"><span class="params">to</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 方法接收 目标路由 作为参数</span></span><br><span class="line">  <span class="comment">// return 重定向的 字符串路径/路径对象</span></span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure><h3 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h3><p>别名：的功能让你可以自由地将 UI 结构映射到任意的 URL，而不是受限于配置的嵌套路由结构。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attribute">path</span>: <span class="string">'/a'</span>, component: A, alias: <span class="string">'/b'</span> &#125;</span><br></pre></td></tr></table></figure><h2 id="HTML5-History-模式"><a href="#HTML5-History-模式" class="headerlink" title="HTML5 History 模式"></a>HTML5 History 模式</h2><p>vue-router 默认 hash 模式 —— 使用 URL 的 hash 来模拟一个完整的 URL，于是当 URL 改变时，页面不会重新加载。<br><a href="http://localhost:8680/#/Tap/btn/Github" target="_blank" rel="noopener">http://localhost:8680/#/Tap/btn/Github</a></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  <span class="keyword">mode</span>: <span class="string">'history'</span>,</span><br><span class="line">  route<span class="variable">s:</span> [...]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>/user/:id<br>不过这种模式要玩好，还需要后台配置支持。因为我们的应用是个单页客户端应用，如果后台没有正确的配置，当用户在浏览器直接访问 <a href="http://oursite.com/user/id" target="_blank" rel="noopener">http://oursite.com/user/id</a> 就会返回 404，这就不好看了。</p><h1 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h1><p>正如其名，vue-router 提供的导航钩子主要用来拦截导航，让它完成跳转或取消。有多种方式可以在路由导航发生时执行钩子：全局的, 单个路由独享的, 或者组件级的。</p><h2 id="导航钩子"><a href="#导航钩子" class="headerlink" title="导航钩子"></a>导航钩子</h2><h3 id="router-beforeEach"><a href="#router-beforeEach" class="headerlink" title="router.beforeEach"></a>router.beforeEach</h3><figure class="highlight monkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">to</span>: Route, from: Route, <span class="keyword">next</span>: <span class="function"><span class="keyword">Function</span></span></span><br><span class="line">router.beforeEach((<span class="keyword">to</span>, from, <span class="keyword">next</span>) =&gt; &#123;</span><br><span class="line">  // <span class="keyword">to</span> 和 from 都是 路由信息对象</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="to-Route"><a href="#to-Route" class="headerlink" title="to: Route:"></a>to: Route:</h4><p>即将要进入的目标 路由对象</p><h4 id="from-Route"><a href="#from-Route" class="headerlink" title="from: Route:"></a>from: Route:</h4><p>当前导航正要离开的路由</p><h4 id="next-Function"><a href="#next-Function" class="headerlink" title="next: Function:"></a>next: Function:</h4><p>一定要调用该方法来 resolve 这个钩子。执行效果依赖 next 方法的调用参数。</p><p>next(): 进行管道中的下一个钩子。如果全部钩子执行完了，则导航的状态就是 confirmed （确认的）。</p><p>next(false): 中断当前的导航。如果浏览器的 URL 改变了（可能是用户手动或者浏览器后退按钮），那么 URL 地址会重置到 from 路由对应的地址。</p><p>next(‘/‘) 或者 next({ path: ‘/‘ }): 跳转到一个不同的地址。当前的导航被中断，然后进行一个新的导航。</p><h3 id="router-afterEach"><a href="#router-afterEach" class="headerlink" title="router.afterEach"></a>router.afterEach</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">after 钩子没有 next 方法，不能改变导航：</span><br><span class="line">router.afterEach(<span class="function"><span class="params">route</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="某个路由独享的钩子"><a href="#某个路由独享的钩子" class="headerlink" title="某个路由独享的钩子"></a>某个路由独享的钩子</h2><p>这些钩子与全局 before 钩子的方法参数是一样的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/foo'</span>,</span><br><span class="line">      component: Foo,</span><br><span class="line">      beforeEnter: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="组件内的钩子"><a href="#组件内的钩子" class="headerlink" title="组件内的钩子"></a>组件内的钩子</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">const Foo = &#123;</span><br><span class="line">  template: `...`,</span><br><span class="line">  beforeRouteEnter (to, from, <span class="keyword">next</span>) &#123;</span><br><span class="line">    <span class="regexp">//</span> 在渲染该组件的对应路由被 confirm 前调用</span><br><span class="line">    <span class="regexp">//</span> 不！能！获取组件实例 `this`</span><br><span class="line">    <span class="regexp">//</span> 因为当钩子执行前，组件实例还没被创建</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeRouteUpdate (to, from, <span class="keyword">next</span>) &#123;</span><br><span class="line">    <span class="regexp">//</span> 在当前路由改变，但是该组件被复用时调用</span><br><span class="line">    <span class="regexp">//</span> 举例来说，对于一个带有动态参数的路径 <span class="regexp">/foo/</span>:id，在 <span class="regexp">/foo/</span><span class="number">1</span> 和 <span class="regexp">/foo/</span><span class="number">2</span> 之间跳转的时候，</span><br><span class="line">    <span class="regexp">//</span> 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。</span><br><span class="line">    <span class="regexp">//</span> 可以访问组件实例 `this`</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeRouteLeave (to, from, <span class="keyword">next</span>) &#123;</span><br><span class="line">    <span class="regexp">//</span> 导航离开该组件的对应路由时调用</span><br><span class="line">    <span class="regexp">//</span> 可以访问组件实例 `this`</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数据获取"><a href="#数据获取" class="headerlink" title="数据获取"></a>数据获取</h2><blockquote><p>导航完成之后获取：</p></blockquote><p>先完成导航，然后在接下来的组件生命周期钩子中获取数据。在数据获取期间显示『加载中』之类的指示。</p><blockquote><p>导航完成之前获取：</p></blockquote><p>导航完成前，在路由的 enter 钩子中获取数据，在数据获取成功后执行导航。</p><h3 id="导航完成后获取数据"><a href="#导航完成后获取数据" class="headerlink" title="导航完成后获取数据"></a>导航完成后获取数据</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span>="<span class="title">post</span>"&gt;</span></span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span>="<span class="title">loading</span>" <span class="title">v</span>-<span class="title">if</span>="<span class="title">loading</span>"&gt;</span></span><br><span class="line">      Loading...</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div v-<span class="keyword">if</span>=<span class="string">"error"</span> <span class="class"><span class="keyword">class</span>="<span class="title">error</span>"&gt;</span></span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div v-<span class="keyword">if</span>=<span class="string">"post"</span> <span class="class"><span class="keyword">class</span>="<span class="title">content</span>"&gt;</span></span><br><span class="line">      &lt;h2&gt;&lt;/h2&gt;</span><br><span class="line">      &lt;p&gt;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="keyword">data</span> () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      loading: <span class="literal">false</span>,</span><br><span class="line">      post: <span class="literal">null</span>,</span><br><span class="line">      error: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    <span class="comment">// 组件创建完后获取数据，</span></span><br><span class="line">    <span class="comment">// 此时 data 已经被 observed 了</span></span><br><span class="line">    <span class="keyword">this</span>.fetchData()</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    <span class="comment">// 如果路由有变化，会再次执行该方法</span></span><br><span class="line">    <span class="string">'$route'</span>: <span class="string">'fetchData'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    fetchData () &#123;</span><br><span class="line">      <span class="keyword">this</span>.error = <span class="keyword">this</span>.post = <span class="literal">null</span></span><br><span class="line">      <span class="keyword">this</span>.loading = <span class="literal">true</span></span><br><span class="line">      <span class="comment">// replace getPost with your data fetching util / API wrapper</span></span><br><span class="line">      getPost(<span class="keyword">this</span>.$route.params.id, (err, post) =&gt; &#123;</span><br><span class="line">        <span class="keyword">this</span>.loading = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">          <span class="keyword">this</span>.error = err.toString()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.post = post</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="在导航完成前获取数据"><a href="#在导航完成前获取数据" class="headerlink" title="在导航完成前获取数据"></a>在导航完成前获取数据</h3><p>我们在导航转入新的路由前获取数据。我们可以在接下来的组件的 beforeRouteEnter 钩子中获取数据，当数据获取成功后只调用 next 方法。</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      post: <span class="literal">null</span>,</span><br><span class="line">      error: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    getPost(to.params.id, <span class="function">(<span class="params">err, post</span>) =&gt;</span> </span><br><span class="line">      <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="comment">// display some global error message</span></span><br><span class="line">        next(<span class="literal">false</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        next(<span class="function"><span class="params">vm</span> =&gt;</span> &#123;</span><br><span class="line">          vm.post = post</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    axios.get(api).then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">      next(<span class="function"><span class="params">vm</span> =&gt;</span> &#123;</span><br><span class="line">        vm.votes = response.data.items</span><br><span class="line">        vm.jsons = <span class="number">1</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;, <span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">      next(<span class="literal">false</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 路由改变前，组件就已经渲染完了</span></span><br><span class="line">  <span class="comment">// 逻辑稍稍不同</span></span><br><span class="line">  watch: &#123;</span><br><span class="line">	  $route () &#123;&#125;</span><br><span class="line">    <span class="string">'$route'</span>: () &#123;</span><br><span class="line">      <span class="keyword">this</span>.post = <span class="literal">null</span></span><br><span class="line">      getPost(<span class="keyword">this</span>.$route.params.id, <span class="function">(<span class="params">err, post</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">          <span class="keyword">this</span>.error = err.toString()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.post = post</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="滚动行为"><a href="#滚动行为" class="headerlink" title="滚动行为"></a>滚动行为</h2><p>注意: 这个功能只在 HTML5 history 模式下可用。<br>使用前端路由，当切换到新路由时，想要页面滚到顶部，或者是保持原先的滚动位置，就像重新加载页面那样。 vue-router 能做到，而且更好，它让你可以自定义路由切换时页面如何滚动。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes: [...],</span><br><span class="line">  scrollBehavior (to, <span class="keyword">from</span>, savedPosition) &#123;</span><br><span class="line">    <span class="comment">// return 期望滚动到哪个的位置</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="路由懒加载"><a href="#路由懒加载" class="headerlink" title="路由懒加载"></a>路由懒加载</h2><p>为了提高页面首屏加载时间，将相关的路由结合分割，提高页面效率。结合Vue的异步组件和Webpack的code splitting feature,轻松实现路由组件的懒加载。</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Foo = <span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// require.ensure 是 Webpack 的特殊语法，用来设置 code-split point</span></span><br><span class="line">  <span class="comment">// （代码分块）</span></span><br><span class="line">  <span class="built_in">require</span>.ensure([<span class="string">'./Foo.vue'</span>], <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="built_in">require</span>(<span class="string">'./Foo.vue'</span>))</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="AMD-风格的-require"><a href="#AMD-风格的-require" class="headerlink" title="AMD 风格的 require"></a>AMD 风格的 require</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Foo = <span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">require</span>([<span class="string">'./Foo.vue'</span>], resolve)</span><br></pre></td></tr></table></figure><h3 id="把组件按组分块"><a href="#把组件按组分块" class="headerlink" title="把组件按组分块"></a>把组件按组分块</h3><p>有时候我们想把某个路由下的所有组件都打包在同个异步 chunk 中。只需要 给 chunk 命名，提供 require.ensure 第三个参数作为 chunk 的名称:</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Foo = <span class="function"><span class="params">r</span> =&gt;</span> <span class="built_in">require</span>.ensure([], <span class="function"><span class="params">()</span> =&gt;</span> r(<span class="built_in">require</span>(<span class="string">'./Foo.vue'</span>)), <span class="string">'group-foo'</span>)</span><br><span class="line"><span class="keyword">const</span> Bar = <span class="function"><span class="params">r</span> =&gt;</span> <span class="built_in">require</span>.ensure([], <span class="function"><span class="params">()</span> =&gt;</span> r(<span class="built_in">require</span>(<span class="string">'./Bar.vue'</span>)), <span class="string">'group-foo'</span>)</span><br><span class="line"><span class="keyword">const</span> Baz = <span class="function"><span class="params">r</span> =&gt;</span> <span class="built_in">require</span>.ensure([], <span class="function"><span class="params">()</span> =&gt;</span> r(<span class="built_in">require</span>(<span class="string">'./Baz.vue'</span>)), <span class="string">'group-foo'</span>)</span><br></pre></td></tr></table></figure><p>Webpack 将相同 chunk 下的所有异步模块打包到一个异步块里面 —— 这也意味着我们无须明确列出 require.ensure 的依赖（传空数组就行）。</p><p>webpack.config.js</p><figure class="highlight roboconf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var webpackConfig = merge(baseWebpackConfig, &#123;</span><br><span class="line">  <span class="attribute">module</span>: &#123;</span><br><span class="line">    rules: utils<span class="variable">.styleLoaders</span>(&#123;</span><br><span class="line">      sourceMap: config<span class="variable">.build</span><span class="variable">.productionSourceMap</span>,</span><br><span class="line">      extract: true</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  // devtool: config<span class="variable">.build</span><span class="variable">.productionSourceMap</span> ? '#source-map' : false,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: config<span class="variable">.build</span><span class="variable">.assetsRoot</span>,</span><br><span class="line">    filename: utils<span class="variable">.assetsPath</span>('js/[name].[chunkhash]<span class="variable">.js</span>'),</span><br><span class="line">    // chunkFilename: utils<span class="variable">.assetsPath</span>('js/[id].[chunkhash]<span class="variable">.js</span>')</span><br><span class="line">    chunkFilename: utils<span class="variable">.assetsPath</span>('js/[name].[chunkhash]<span class="variable">.min</span><span class="variable">.js</span>')</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><h1 id="API文档"><a href="#API文档" class="headerlink" title="API文档"></a>API文档</h1><h2 id="router-link"><a href="#router-link" class="headerlink" title="router-link"></a>router-link</h2><p><code>&lt;router-link&gt;</code> 组件支持用户在具有路由功能的应用中（点击）导航。 通过 to 属性指定目标地址，默认渲染成带有正确链接的 <code>&lt;a&gt;</code> 标签，可以通过配置 tag 属性生成别的标签.。另外，当目标路由成功激活时，链接元素自动设置一个表示激活的 CSS 类名。<br>也可以使用：<code>&lt;a v-link=&quot;{name: &#39;user&#39;, params: {userId: 1}&quot;&gt;This is a user whose id is 1&lt;/a&gt;</code></p><h2 id="Props参数"><a href="#Props参数" class="headerlink" title="Props参数"></a>Props参数</h2><h3 id="to"><a href="#to" class="headerlink" title="to"></a>to</h3><p>表示目标路由的链接。当被点击后，内部会立刻把 to 的值传到 router.push()，所以这个值可以是一个字符串或者是描述目标位置的对象。</p><blockquote><p>字符串</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 字符串 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"home"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 渲染结果 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"home"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>表达式</p></blockquote><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- 使用 v-bind 的 JS 表达式'home' --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">v-bind:to</span>=<span class="string">"'home'"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 不写 v-bind 也可以，就像绑定别的属性一样 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"'home'"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 同上 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"</span></span></span><span class="template-variable">&#123; path: 'home' &#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 命名的路由 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"</span></span></span><span class="template-variable">&#123; name: 'user', params: &#123; userId: 123 &#125;</span><span class="xml"><span class="tag"><span class="string">&#125;"</span>&gt;</span>User<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 带查询参数，下面的结果为 /register?plan=private --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"</span></span></span><span class="template-variable">&#123; path: 'register', query: &#123; plan: 'private' &#125;</span><span class="xml"><span class="tag"><span class="string">&#125;"</span>&gt;</span>Register<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h3><p>设置 replace 属性的话，当点击时，会调用 router.replace() 而不是 router.push()，于是导航后不会留下 history 记录。</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"</span></span></span><span class="template-variable">&#123; path: '/abc'&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">replace</span>&gt;</span><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="append-相对路径"><a href="#append-相对路径" class="headerlink" title="append 相对路径"></a>append 相对路径</h3><p>设置 append 属性后，则在当前（相对）路径前添加基路径。例如，我们从 /a 导航到一个相对路径 b，如果没有配置 append，则路径为 /b，如果配了，则为 /a/b</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"</span></span></span><span class="template-variable">&#123; path: 'relative/path'&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">append</span>&gt;</span><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="tag-渲染标签"><a href="#tag-渲染标签" class="headerlink" title="tag 渲染标签"></a>tag 渲染标签</h3><p>有时候想要<router-link>渲染成某种标签，例如<li>。 于是我们使用 tag prop 类指定何种标签，同样它还是会监听点击，触发导航。</li></router-link></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/foo"</span> <span class="attr">tag</span>=<span class="string">"li"</span>&gt;</span>foo<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 渲染结果 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>foo<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="active-class"><a href="#active-class" class="headerlink" title="active-class"></a>active-class</h3><p>设置链接激活时使用的 CSS 类名。默认值可以通过路由的构造选项 linkActiveClass 来全局配置。</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link active-<span class="keyword">class</span> <span class="title">replace</span> <span class="title">to</span>=<span class="string">"/Tap/btn"</span>&gt;proImg&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">	mode: <span class="string">'history'</span>,</span><br><span class="line">	linkActiveClass:<span class="string">'link-active'</span>,</span><br><span class="line">	routes: []</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">.link-active&#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="exact"><a href="#exact" class="headerlink" title="exact"></a>exact</h3><p>“是否激活”默认类名的依据是inclusive match （全包含匹配）。 举个例子，如果当前的路径是 /a 开头的，那么 <code>&lt;router-link to=&quot;/a&quot;&gt;</code> 也会被设置 CSS 类名。<br><a href="https://jsfiddle.net/8xrk1n9f/" target="_blank" rel="noopener">Active Links</a></p><h3 id="events"><a href="#events" class="headerlink" title="events"></a>events</h3><p>声明可以用来触发导航的事件。可以是一个字符串或是一个包含字符串的数组。<br>默认值: ‘click’</p><h2 id="router-view"><a href="#router-view" class="headerlink" title="router-view"></a>router-view</h2><p><code>&lt;router-view&gt;</code> 组件是一个 functional 组件，渲染路径匹配到的视图组件。<code>&lt;router-view&gt;</code> 渲染的组件还可以内嵌自己的 <code>&lt;router-view&gt;</code>，根据嵌套路径，渲染嵌套组件。</p><h3 id="name"><a href="#name" class="headerlink" title="name"></a>name</h3><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-<span class="keyword">view</span> <span class="keyword">class</span>=<span class="string">"view one"</span>&gt;&lt;/router-<span class="keyword">view</span>&gt;</span><br><span class="line">&lt;router-<span class="keyword">view</span> <span class="keyword">class</span>=<span class="string">"view two"</span> name=<span class="string">"a"</span>&gt;&lt;/router-<span class="keyword">view</span>&gt;</span><br><span class="line">&lt;router-<span class="keyword">view</span> <span class="keyword">class</span>=<span class="string">"view three"</span> name=<span class="string">"b"</span>&gt;&lt;/router-<span class="keyword">view</span>&gt;</span><br></pre></td></tr></table></figure><blockquote><p>keep-alive</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">&lt;transition&gt;</span></span><br><span class="line">  <span class="section">&lt;keep-alive&gt;</span></span><br><span class="line">    <span class="section">&lt;router-view&gt;</span><span class="section">&lt;/router-view&gt;</span></span><br><span class="line">  <span class="section">&lt;/keep-alive&gt;</span></span><br><span class="line"><span class="section">&lt;/transition&gt;</span></span><br></pre></td></tr></table></figure><h2 id="路由信息对象"><a href="#路由信息对象" class="headerlink" title="路由信息对象"></a>路由信息对象</h2><p>一个 <code>route object</code>（路由信息对象） 表示当前激活的路由的状态信息，包含了当前 URL 解析得到的信息，还有 URL 匹配到的 route records（路由记录）。</p><h3 id="route-Watcher"><a href="#route-Watcher" class="headerlink" title="$route Watcher"></a>$route Watcher</h3><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  <span class="string">'$route'</span> (<span class="keyword">to</span>, <span class="keyword">from</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> toDepth = <span class="keyword">to</span>.path.split(<span class="string">'/'</span>)</span><br><span class="line">    <span class="keyword">const</span> fromDepth = <span class="keyword">from</span>.path.split(<span class="string">'/'</span>)</span><br><span class="line">    <span class="keyword">if</span> (toDepth.length === fromDepth.length) &#123;</span><br><span class="line">      <span class="keyword">if</span> (toDepth[toDepth.length - <span class="number">1</span>] === <span class="string">''</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.transitionName = <span class="string">'vux-pop-in'</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.transitionName = <span class="string">'vux-pop-out'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.transitionName = toDepth &lt; fromDepth ? <span class="string">'vux-pop-in'</span> : <span class="string">'vux-pop-out'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function"><span class="params">(to, <span class="keyword">from</span>, <span class="built_in">next</span>)</span> =&gt;</span> &#123;</span><br><span class="line">  // to 和 <span class="keyword">from</span> 都是 路由信息对象</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="this-route"><a href="#this-route" class="headerlink" title="this.$route"></a>this.$route</h3><h4 id="route-path-绝对路径"><a href="#route-path-绝对路径" class="headerlink" title="$route.path 绝对路径"></a>$route.path 绝对路径</h4><h4 id="route-params-路由参数"><a href="#route-params-路由参数" class="headerlink" title="$route.params 路由参数"></a>$route.params 路由参数</h4><p>关于动态片段（如/user/:username)的键值对信息,如{username: ‘paolino’}</p><h4 id="route-query-URL查询参数"><a href="#route-query-URL查询参数" class="headerlink" title="$route.query URL查询参数"></a>$route.query URL查询参数</h4><p>请求参数，如/foo?user=1获取到query.user = 1</p><h4 id="route-hash"><a href="#route-hash" class="headerlink" title="$route.hash"></a>$route.hash</h4><p>当前路由的 hash 值 (带 #) ，如果没有 hash 值，则为空字符串。</p><h4 id="route-fullPath"><a href="#route-fullPath" class="headerlink" title="$route.fullPath"></a>$route.fullPath</h4><p>完成解析后的 URL，包含查询参数和 hash 的完整路径。</p><h4 id="route-matched"><a href="#route-matched" class="headerlink" title="$route.matched"></a>$route.matched</h4><p>数组，包含当前匹配的路径中所包含的所有片段所对应的配置参数对象。</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line"><span class="symbol">  routes:</span> [</span><br><span class="line">    <span class="comment">// 下面的对象就是 route record</span></span><br><span class="line">    &#123; <span class="string">path:</span> <span class="string">'/foo'</span>, <span class="string">component:</span> Foo,</span><br><span class="line"><span class="symbol">      children:</span> [</span><br><span class="line">        <span class="comment">// 这也是个 route record</span></span><br><span class="line">        &#123; <span class="string">path:</span> <span class="string">'bar'</span>, <span class="string">component:</span> Bar &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>当 URL 为 /foo/bar，$route.matched 将会是一个包含从上到下的所有对象（副本）。</p><h4 id="route-name"><a href="#route-name" class="headerlink" title="$route.name"></a>$route.name</h4><p>当前路由的名称，如果有的话</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attribute">path</span>: <span class="string">'/user/:userId'</span>,</span><br><span class="line">  name: <span class="string">'user'</span>,</span><br><span class="line">  component: User</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Router-构造配置"><a href="#Router-构造配置" class="headerlink" title="Router 构造配置"></a>Router 构造配置</h2><h3 id="routes"><a href="#routes" class="headerlink" title="routes"></a>routes</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="comment">&lt;!-- 路径 --&gt;</span></span><br><span class="line">  path: string;</span><br><span class="line">  path: '',</span><br><span class="line">  <span class="comment">&lt;!-- 组件 --&gt;</span></span><br><span class="line">  component?: Component,</span><br><span class="line">  <span class="comment">&lt;!-- 命名路由 --&gt;</span></span><br><span class="line">  name?: string;</span><br><span class="line">  name?: '',</span><br><span class="line">  <span class="comment">&lt;!-- 命名视图组件 --&gt;</span></span><br><span class="line">  components?: &#123; [name: string]: Component &#125;,</span><br><span class="line">  redirect?: string | Location | Function,</span><br><span class="line">  alias?: string | Array<span class="tag">&lt;<span class="name">string</span>&gt;</span>,</span><br><span class="line">  <span class="comment">&lt;!-- 组件 --&gt;</span></span><br><span class="line">  children?: Array<span class="tag">&lt;<span class="name">RouteConfig</span>&gt;</span>;</span><br><span class="line">  children?: [],</span><br><span class="line">  <span class="comment">&lt;!-- 某个路由独享的钩子 --&gt;</span></span><br><span class="line">  beforeEnter?: (to: Route, from: Route, next: Function) =&gt; void,</span><br><span class="line">  beforeEnter: (to, from, next) =&gt; &#123;</span><br><span class="line">    // ...</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">&lt;!-- 路由元信息 --&gt;</span></span><br><span class="line">  meta?: any</span><br><span class="line">  meta: &#123; requiresAuth: true &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="mode"><a href="#mode" class="headerlink" title="mode"></a>mode</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">mode:</span> <span class="string">'history'</span>,</span><br></pre></td></tr></table></figure><blockquote><p>hash:</p></blockquote><p>使用 URL hash 值来作路由。支持所有浏览器，包括不支持 HTML5 History Api 的浏览器。</p><blockquote><p>history:</p></blockquote><p>依赖 HTML5 History API 和服务器配置。查看 HTML5 History 模式.</p><blockquote><p>abstract:</p></blockquote><p>支持所有 JavaScript 运行环境，如 Node.js 服务器端。如果发现没有浏览器的 API，路由会自动强制进入这个模式。</p><h3 id="base"><a href="#base" class="headerlink" title="base"></a>base</h3><p>应用的基路径。例如，如果整个单页应用服务在 /app/ 下，然后 base 就应该设为 “/app/“。</p><h3 id="linkActiveClass"><a href="#linkActiveClass" class="headerlink" title="linkActiveClass"></a>linkActiveClass</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">linkActiveClass:</span><span class="string">'link-active'</span>,</span><br></pre></td></tr></table></figure><h3 id="scrollBehavior"><a href="#scrollBehavior" class="headerlink" title="scrollBehavior"></a>scrollBehavior</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  scrollBehavior (to, <span class="keyword">from</span>, savedPosition) &#123;</span><br><span class="line">    <span class="comment">// to 和 from 都是 路由信息对象</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">const scrollBehavior = (<span class="keyword">to</span>, <span class="keyword">from</span>, savedPosition) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (savedPosition) &#123;</span><br><span class="line">    <span class="comment">// savedPosition is only available for popstate navigations.</span></span><br><span class="line">    return savedPosition</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    const <span class="built_in">position</span> = &#123;&#125;</span><br><span class="line">    <span class="comment">// new navigation.</span></span><br><span class="line">    <span class="comment">// scroll to anchor by returning the selector</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">to</span>.hash) &#123;</span><br><span class="line">      <span class="built_in">position</span>.selector = <span class="keyword">to</span>.hash</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// check if any matched route config has meta that requires scrolling to top</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">to</span>.matched.some(m =&gt; m.meta.scrollToTop)) &#123;</span><br><span class="line">      <span class="comment">// cords will be used if no selector is provided,</span></span><br><span class="line">      <span class="comment">// or if the selector didn't match any element.</span></span><br><span class="line">      <span class="built_in">position</span>.x = <span class="number">0</span></span><br><span class="line">      <span class="built_in">position</span>.y = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// if the returned position is falsy or an empty object,</span></span><br><span class="line">    <span class="comment">// will retain current scroll position.</span></span><br><span class="line">    return <span class="built_in">position</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><h3 id="导航钩子-1"><a href="#导航钩子-1" class="headerlink" title="导航钩子"></a>导航钩子</h3><p>增加全局的导航钩子</p><h4 id="router-beforeEach-guard"><a href="#router-beforeEach-guard" class="headerlink" title="router.beforeEach(guard)"></a>router.beforeEach(guard)</h4><h4 id="router-afterEach-hook"><a href="#router-afterEach-hook" class="headerlink" title="router.afterEach(hook)"></a>router.afterEach(hook)</h4><h3 id="编程式导航"><a href="#编程式导航" class="headerlink" title="编程式导航"></a>编程式导航</h3><p>动态的导航到一个新 url</p><h4 id="router-push-location-1"><a href="#router-push-location-1" class="headerlink" title="router.push(location)"></a>router.push(location)</h4><h4 id="router-replace-location-1"><a href="#router-replace-location-1" class="headerlink" title="router.replace(location)"></a>router.replace(location)</h4><h4 id="router-go-n-到达"><a href="#router-go-n-到达" class="headerlink" title="router.go(n) 到达"></a>router.go(n) 到达</h4><h4 id="router-back-后退"><a href="#router-back-后退" class="headerlink" title="router.back() 后退"></a>router.back() 后退</h4><h4 id="router-forward-前进"><a href="#router-forward-前进" class="headerlink" title="router.forward() 前进"></a>router.forward() 前进</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">router.getMatchedComponents(location?)</span><br><span class="line"></span><br><span class="line">返回目标位置或是当前路由匹配的组件数组（是数组的定义/构造类，不是实例）。通常在服务端渲染的数据预加载时时候。</span><br><span class="line"></span><br><span class="line">router.resolve(location, current?, append?)</span><br><span class="line"></span><br><span class="line">2.1.0+</span><br><span class="line"></span><br><span class="line">解析目标位置（格式和 &lt;router-link&gt; 的 <span class="keyword">to</span> prop 一样），返回包含如下属性的对象：</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  location: Location;</span><br><span class="line">  route: Route;</span><br><span class="line">  href: string;</span><br><span class="line">&#125;</span><br><span class="line">router.addRoutes(routes)</span><br><span class="line"></span><br><span class="line">2.2.0+</span><br><span class="line"></span><br><span class="line">动态添加更多的路由规则。参数必须是一个符合 routes 选项要求的数组。</span><br><span class="line"></span><br><span class="line">router.onReady(callback)</span><br><span class="line"></span><br><span class="line">2.2.0+</span><br><span class="line"></span><br><span class="line">添加一个会在第一次路由跳转完成时被调用的回调函数。此方法通常用于等待异步的导航钩子完成，比如在进行服务端渲染的时候。</span><br></pre></td></tr></table></figure><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li><p><a href="https://router.vuejs.org/en/#" target="_blank" rel="noopener">router</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/28156233" target="_blank" rel="noopener">vue-router总结</a></p></li><li><p><a href></a></p></li><li><p><a href></a></p></li><li><p><a href></a></p></li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Vue/" rel="tag"># Vue</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/03/25/Video/" rel="next" title="Mobile Video"><i class="fa fa-chevron-left"></i> Mobile Video</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2017/04/19/FEDebug/" rel="prev" title="移动端真机调试实战经验">移动端真机调试实战经验 <i class="fa fa-chevron-right"></i></a></div></div></footer><div id="gitalk-container"></div><script src="/js//gitalk.min.js"></script><script type="text/javascript">const gitalk=new Gitalk({clientID:"7f50019c6a02c37e7aca",clientSecret:"027d2b01d7915f1de834d3bba483749ef9ac9c56",repo:"luuman.github.io",owner:"luuman",admin:["GitHub repo owner and collaborators, only these guys can initialize github issues"],id:location.pathname,distractionFreeMode:!1});gitalk.render("gitalk-container")</script></div></article></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">Overview</li></ul><div class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Luuman</p><div class="site-description motion-element" itemprop="description">爱折腾，爱运动，更爱游离于错综复杂的编码与逻辑中，无法自拔。相信编程是一门艺术，自诩为游弋在代码里的人生。</div></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">92</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">19</span> <span class="site-state-item-name">categories</span></div><div class="site-state-item site-state-tags"><span class="site-state-item-count">36</span> <span class="site-state-item-name">tags</span></div></nav><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> 友情链接</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://www.hxkj.vip/#/" title="https://www.hxkj.vip/#/" rel="noopener" target="_blank">编程の趣</a></li><li class="links-of-blogroll-item"><a href="http://blog.dandyweng.com/" title="http://blog.dandyweng.com/" rel="noopener" target="_blank">翁天信</a></li><li class="links-of-blogroll-item"><a href="http://MOxFIVE.github.io/" title="http://MOxFIVE.github.io/" rel="noopener" target="_blank">MOxFIVE</a></li><li class="links-of-blogroll-item"><a href="https://tech.meicai.cn/Home" title="https://tech.meicai.cn/Home" rel="noopener" target="_blank">Meicai</a></li></ul></div></div></div><div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#TODO"><span class="nav-number">1.</span> <span class="nav-text">TODO</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#基础"><span class="nav-number">2.</span> <span class="nav-text">基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#路由"><span class="nav-number">2.1.</span> <span class="nav-text">路由</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用"><span class="nav-number">2.1.1.</span> <span class="nav-text">使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置"><span class="nav-number">2.1.2.</span> <span class="nav-text">配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#动态路由匹配"><span class="nav-number">2.2.</span> <span class="nav-text">动态路由匹配</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#路径参数"><span class="nav-number">2.2.1.</span> <span class="nav-text">路径参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#响应路由参数的变化"><span class="nav-number">2.2.2.</span> <span class="nav-text">响应路由参数的变化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#高级匹配模式"><span class="nav-number">2.2.3.</span> <span class="nav-text">高级匹配模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#匹配优先级"><span class="nav-number">2.2.4.</span> <span class="nav-text">匹配优先级</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#嵌套路由"><span class="nav-number">2.3.</span> <span class="nav-text">嵌套路由</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#编程式的导航"><span class="nav-number">2.4.</span> <span class="nav-text">编程式的导航</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#router-push-location"><span class="nav-number">2.4.1.</span> <span class="nav-text">router.push(location)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#router-replace-location"><span class="nav-number">2.4.2.</span> <span class="nav-text">router.replace(location)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#router-go-n"><span class="nav-number">2.4.3.</span> <span class="nav-text">router.go(n)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#命名路由"><span class="nav-number">2.5.</span> <span class="nav-text">命名路由</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#命名视图"><span class="nav-number">2.6.</span> <span class="nav-text">命名视图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#重定向-和-别名"><span class="nav-number">2.7.</span> <span class="nav-text">重定向 和 别名</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#重定向"><span class="nav-number">2.7.1.</span> <span class="nav-text">重定向</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#路径"><span class="nav-number">2.7.1.1.</span> <span class="nav-text">路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#命名"><span class="nav-number">2.7.1.2.</span> <span class="nav-text">命名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#动态返回重定向"><span class="nav-number">2.7.1.3.</span> <span class="nav-text">动态返回重定向</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#别名"><span class="nav-number">2.7.2.</span> <span class="nav-text">别名</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTML5-History-模式"><span class="nav-number">2.8.</span> <span class="nav-text">HTML5 History 模式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#进阶"><span class="nav-number">3.</span> <span class="nav-text">进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#导航钩子"><span class="nav-number">3.1.</span> <span class="nav-text">导航钩子</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#router-beforeEach"><span class="nav-number">3.1.1.</span> <span class="nav-text">router.beforeEach</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#to-Route"><span class="nav-number">3.1.1.1.</span> <span class="nav-text">to: Route:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#from-Route"><span class="nav-number">3.1.1.2.</span> <span class="nav-text">from: Route:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#next-Function"><span class="nav-number">3.1.1.3.</span> <span class="nav-text">next: Function:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#router-afterEach"><span class="nav-number">3.1.2.</span> <span class="nav-text">router.afterEach</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#某个路由独享的钩子"><span class="nav-number">3.2.</span> <span class="nav-text">某个路由独享的钩子</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#组件内的钩子"><span class="nav-number">3.3.</span> <span class="nav-text">组件内的钩子</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据获取"><span class="nav-number">3.4.</span> <span class="nav-text">数据获取</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#导航完成后获取数据"><span class="nav-number">3.4.1.</span> <span class="nav-text">导航完成后获取数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在导航完成前获取数据"><span class="nav-number">3.4.2.</span> <span class="nav-text">在导航完成前获取数据</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#滚动行为"><span class="nav-number">3.5.</span> <span class="nav-text">滚动行为</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#路由懒加载"><span class="nav-number">3.6.</span> <span class="nav-text">路由懒加载</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AMD-风格的-require"><span class="nav-number">3.6.1.</span> <span class="nav-text">AMD 风格的 require</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#把组件按组分块"><span class="nav-number">3.6.2.</span> <span class="nav-text">把组件按组分块</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#API文档"><span class="nav-number">4.</span> <span class="nav-text">API文档</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#router-link"><span class="nav-number">4.1.</span> <span class="nav-text">router-link</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Props参数"><span class="nav-number">4.2.</span> <span class="nav-text">Props参数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#to"><span class="nav-number">4.2.1.</span> <span class="nav-text">to</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#replace"><span class="nav-number">4.2.2.</span> <span class="nav-text">replace</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#append-相对路径"><span class="nav-number">4.2.3.</span> <span class="nav-text">append 相对路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tag-渲染标签"><span class="nav-number">4.2.4.</span> <span class="nav-text">tag 渲染标签</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#active-class"><span class="nav-number">4.2.5.</span> <span class="nav-text">active-class</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#exact"><span class="nav-number">4.2.6.</span> <span class="nav-text">exact</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#events"><span class="nav-number">4.2.7.</span> <span class="nav-text">events</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#router-view"><span class="nav-number">4.3.</span> <span class="nav-text">router-view</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#name"><span class="nav-number">4.3.1.</span> <span class="nav-text">name</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#路由信息对象"><span class="nav-number">4.4.</span> <span class="nav-text">路由信息对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#route-Watcher"><span class="nav-number">4.4.1.</span> <span class="nav-text">$route Watcher</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#this-route"><span class="nav-number">4.4.2.</span> <span class="nav-text">this.$route</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#route-path-绝对路径"><span class="nav-number">4.4.2.1.</span> <span class="nav-text">$route.path 绝对路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#route-params-路由参数"><span class="nav-number">4.4.2.2.</span> <span class="nav-text">$route.params 路由参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#route-query-URL查询参数"><span class="nav-number">4.4.2.3.</span> <span class="nav-text">$route.query URL查询参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#route-hash"><span class="nav-number">4.4.2.4.</span> <span class="nav-text">$route.hash</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#route-fullPath"><span class="nav-number">4.4.2.5.</span> <span class="nav-text">$route.fullPath</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#route-matched"><span class="nav-number">4.4.2.6.</span> <span class="nav-text">$route.matched</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#route-name"><span class="nav-number">4.4.2.7.</span> <span class="nav-text">$route.name</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Router-构造配置"><span class="nav-number">4.5.</span> <span class="nav-text">Router 构造配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#routes"><span class="nav-number">4.5.1.</span> <span class="nav-text">routes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mode"><span class="nav-number">4.5.2.</span> <span class="nav-text">mode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#base"><span class="nav-number">4.5.3.</span> <span class="nav-text">base</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linkActiveClass"><span class="nav-number">4.5.4.</span> <span class="nav-text">linkActiveClass</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#scrollBehavior"><span class="nav-number">4.5.5.</span> <span class="nav-text">scrollBehavior</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#方法"><span class="nav-number">4.6.</span> <span class="nav-text">方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#导航钩子-1"><span class="nav-number">4.6.1.</span> <span class="nav-text">导航钩子</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#router-beforeEach-guard"><span class="nav-number">4.6.1.1.</span> <span class="nav-text">router.beforeEach(guard)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#router-afterEach-hook"><span class="nav-number">4.6.1.2.</span> <span class="nav-text">router.afterEach(hook)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#编程式导航"><span class="nav-number">4.6.2.</span> <span class="nav-text">编程式导航</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#router-push-location-1"><span class="nav-number">4.6.2.1.</span> <span class="nav-text">router.push(location)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#router-replace-location-1"><span class="nav-number">4.6.2.2.</span> <span class="nav-text">router.replace(location)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#router-go-n-到达"><span class="nav-number">4.6.2.3.</span> <span class="nav-text">router.go(n) 到达</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#router-back-后退"><span class="nav-number">4.6.2.4.</span> <span class="nav-text">router.back() 后退</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#router-forward-前进"><span class="nav-number">4.6.2.5.</span> <span class="nav-text">router.forward() 前进</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考资料"><span class="nav-number">5.</span> <span class="nav-text">参考资料</span></a></li></ol></div></div></div><div class="ads"><a class="adsense" href="https://blog.luuman.club/" title="广告位" target="_blank"><img src="/resoures/IMG_3565.JPG" class="image" alt="广告位"> </a><a class="adsense" href="https://blog.luuman.club/" title="广告位" target="_blank"><img src="/resoures/IMG_3566.JPG" class="image" alt="广告位"> </a><a class="adsense" href="https://blog.luuman.club/" title="广告位" target="_blank"><img src="https://image.yktour.com.cn/g1/M00/07/80/CgAMDF1aOQmABXszAADZNTNgD7c637.jpg" class="image" alt="广告位"></a></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span> <span class="with-love" id="animate"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Luuman</span></div><div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div><span class="post-meta-divider">|</span><div class="theme-info">Theme – <a href="https://github.com/luuman/hexo-theme-spfk" class="theme-link" rel="noopener" target="_blank">Nice.Gemini</a> v7.3.0</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script src="/lib/jquery/index.js?v=3.4.1"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/js/utils.js?v=7.3.0"></script><script src="/js/motion.js?v=7.3.0"></script><script src="/js/affix.js?v=7.3.0"></script><script src="/js/schemes/pisces.js?v=7.3.0"></script><script src="/js/next-boot.js?v=7.3.0"></script><div class="local-search-pop-overlay"></div><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input" autocapitalize="none" autocorrect="off"></div></div><div id="local-search-result"><ul class="search-result-list"></ul></div></div></div><script src="/js/json-search.js?v=7.3.0"></script><script src="/js/scrollspy.js?v=7.3.0"></script><script src="/js/post-details.js?v=7.3.0"></script></body></html><!-- rebuild by neat -->